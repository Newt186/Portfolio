<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Cart - NEO‑STORE</title>

  <!-- Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;800&display=swap" rel="stylesheet">

  <!-- GSAP for Animations -->
  <script src="https://unpkg.com/gsap@3/dist/gsap.min.js"></script>
  <script src="https://unpkg.com/gsap@3/dist/ScrollTrigger.min.js"></script>

  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Inter', sans-serif; }

    body {
      background: #1a1a1a;
      color: #f8f9fa;
      overflow-x: hidden;
      line-height: 1.6;
    }

    /* NAVBAR */
    nav {
      position: fixed;
      top: 0;
      width: 100%;
      padding: 20px 50px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      background: rgba(26, 26, 26, 0.95);
      backdrop-filter: blur(10px);
      z-index: 100;
      box-shadow: 0 2px 10px rgba(0,0,0,0.5);
    }

    nav h1 {
      font-weight: 800;
      letter-spacing: 1px;
      color: #ff6b35;
      cursor: pointer;
    }

    nav a {
      margin-left: 30px;
      text-decoration: none;
      color: #adb5bd;
      font-weight: 500;
      transition: color 0.3s ease;
    }

    nav a:hover { color: #ff6b35; }

    /* CART HEADER */
    .cart-header {
      padding: 120px 60px 60px;
      text-align: center;
      background: #2d2d2d;
      margin-bottom: 50px;
    }

    .cart-header h2 {
      font-size: 2.5rem;
      color: #ff6b35;
      margin-bottom: 20px;
    }

    .cart-header p {
      font-size: 1.1rem;
      color: #adb5bd;
      max-width: 600px;
      margin: 0 auto;
    }

    /* CART ITEMS */
    section {
      padding: 100px 60px;
      max-width: 1200px;
      margin: auto;
      opacity: 0;
      transform: translateY(50px);
    }

    .cart-item {
      background: #2d2d2d;
      border-radius: 12px;
      padding: 20px;
      margin-bottom: 20px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      border: 1px solid #495057;
      box-shadow: 0 5px 15px rgba(0,0,0,0.3);
      transition: transform 0.3s ease;
    }

    .cart-item:hover {
      transform: translateY(-5px);
    }

    .cart-item h4 {
      font-size: 1.3rem;
      color: #f8f9fa;
      margin-bottom: 5px;
    }

    .cart-item p {
      font-size: 0.95rem;
      color: #adb5bd;
    }

    .cart-item .price {
      font-size: 1.2rem;
      font-weight: 700;
      color: #ff6b35;
    }

    .cart-item button {
      padding: 8px 16px;
      background: #dc3545;
      color: white;
      border: none;
      border-radius: 20px;
      font-weight: 600;
      cursor: pointer;
      transition: background 0.3s ease;
    }

    .cart-item button:hover { background: #c82333; }

    .cart-total {
      text-align: center;
      margin-top: 40px;
      padding: 20px;
      background: #343a40;
      border-radius: 12px;
      box-shadow: 0 5px 15px rgba(0,0,0,0.3);
    }

    .cart-total h3 {
      font-size: 1.5rem;
      color: #ff6b35;
      margin-bottom: 10px;
    }

    .cart-total button {
      padding: 12px 24px;
      background: #ff6b35;
      color: white;
      border: none;
      border-radius: 20px;
      font-weight: 600;
      cursor: pointer;
      margin: 5px;
      transition: background 0.3s ease;
    }

    .cart-total button:hover { background: #e55a2b; }

    .empty-cart {
      text-align: center;
      color: #adb5bd;
      font-size: 1.2rem;
    }

    /* SCROLL TO TOP */
    #scrollTop {
      position: fixed;
      bottom: 20px;
      right: 20px;
      padding: 10px 15px;
      background: #ff6b35;
      color: white;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      opacity: 0;
      transform: translateY(20px);
      transition: opacity 0.3s ease, transform 0.3s ease;
    }

    #scrollTop.show {
      opacity: 1;
      transform: translateY(0);
    }

    footer {
      text-align: center;
      padding: 40px;
      color: #adb5bd;
      background: #2d2d2d;
      border-top: 1px solid #495057;
    }

    footer a {
      color: #ff6b35;
      text-decoration: none;
      margin: 0 10px;
    }

    @media(max-width: 900px) {
      nav { padding: 20px 30px; }
      section { padding: 80px 30px; }
      .cart-header { padding: 100px 30px 40px; }
      .cart-item { flex-direction: column; align-items: flex-start; }
    }

    @media(max-width: 600px) {
      .cart-header { padding: 80px 20px 30px; }
    }
  </style>
</head>
<body>

<nav>
  <h1>NEO‑STORE</h1>
  <div>
    <a href="index.html">Home</a>
    <a href="shop.html">Shop</a>
    <a href="cart.html">Cart</a>
    <a href="contact.html">Contact</a>
  </div>
</nav>

<section class="cart-header">
  <h2>Your Cart</h2>
  <p>Review your selected items, update quantities, and proceed to checkout.</p>
</section>

<section id="cart">
  <div id="cart-items"></div>
  <div id="cart-total" class="cart-total" style="display: none;">
    <h3>Total: ₹<span id="total-price">0</span></h3>
    <button onclick="checkout()">Checkout</button>
    <button onclick="clearCart()">Clear Cart</button>
  </div>
  <div id="empty-cart" class="empty-cart">Your cart is empty. <a href="shop.html" style="color: #ff6b35;">Shop now</a>!</div>
</section>

<button id="scrollTop" onclick="window.scrollTo({top: 0, behavior: 'smooth'})">↑</button>

<footer>
  © 2024 E‑Commerce Landing Page Demo
  <br>
  <a href="#">Facebook</a> | <a href="#">Twitter</a> | <a href="#">Instagram</a>
</footer>

<script>
  // GSAP Animations
  gsap.registerPlugin(ScrollTrigger);

  // Section animations
  gsap.utils.toArray('section').forEach(sec => {
    gsap.fromTo(sec, { opacity: 0, y: 50 }, {
      opacity: 1, y: 0, duration: 1, ease: 'power2.out',
      scrollTrigger: { trigger: sec, start: 'top 80%' }
    });
  });

  // Scroll to top button
  window.addEventListener('scroll', () => {
    const btn = document.getElementById('scrollTop');
    if (window.scrollY > 300) {
      btn.classList.add('show');
    } else {
      btn.classList.remove('show');
    }
  });

  // Load cart items on page load
  window.addEventListener('load', () => {
    console.log('Cart page loaded. Loading cart...');
    loadCart();
  });

  function loadCart() {
    try {
      const cart = JSON.parse(localStorage.getItem('cart')) || [];
      console.log('Cart data:', cart);
      const cartItemsDiv = document.getElementById('cart-items');
      const totalDiv = document.getElementById('cart-total');
      const emptyDiv = document.getElementById('empty-cart');
      const totalPriceSpan = document.getElementById('total-price');

      cartItemsDiv.innerHTML = '';
      let total = 0;

      if (cart.length === 0) {
        emptyDiv.style.display = 'block';
        totalDiv.style.display = 'none';
        console.log('Cart is empty.');
        return;
      }

      emptyDiv.style.display = 'none';
      totalDiv.style.display = 'block';

      cart.forEach((item, index) => {
        if (item && item.name && item.price) {
          total += item.price;
          const itemDiv = document.createElement('div');
          itemDiv.className = 'cart-item';
          itemDiv.innerHTML = `
            <div>
              <h4>${item.name}</h4>
              <p>High-quality product</p>
            </div>
            <div class="price">₹${item.price}</div>
            <button onclick="removeFromCart(${index})">Remove</button>
          `;
          cartItemsDiv.appendChild(itemDiv);
        } else {
          console.warn('Invalid item in cart:', item);
        }
      });

      totalPriceSpan.textContent = total;
      console.log('Total price:', total);
    } catch (error) {
      console.error('Error loading cart:', error);
      alert('Error loading cart. Check console for details.');
    }
  }

  function removeFromCart(index) {
    try {
      let cart = JSON.parse(localStorage.getItem('cart')) || [];
      console.log('Removing item at index:', index);
      cart.splice(index, 1);
      localStorage.setItem('cart', JSON.stringify(cart));
      loadCart(); // Reload the cart
    } catch (error) {
      console.error('Error removing item:', error);
    }
  }

  function clearCart() {
    try {
      localStorage.removeItem('cart');
      console.log('Cart cleared.');
      loadCart();
    } catch (error) {
      console.error('Error clearing cart:', error);
    }
  }

  function checkout() {
    alert('Checkout functionality is a demo. In a real app, this would process payment.');
    // Optionally clear cart after "checkout"
    clearCart();
  }
</script>

</body>
</html>